{% extends 'app_blog/base.html' %}

{% block title %}Mi Perfil{% endblock %}

{% block content %}
<div class="container my-5" style="max-width: 700px;">
  <div class="card shadow-lg p-4">
    <div class="row g-4 align-items-center">

      <!-- Avatar -->
      <div class="col-md-4 text-center">
        {% if user.perfil.avatar %}
          <img src="{{ user.perfil.avatar.url }}" class="img-fluid rounded-circle border border-2" alt="Avatar" style="width: 150px; height: 150px; object-fit: cover;">
        {% else %}
          <div class="bg-secondary text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 150px; height: 150px;">
            <span class="fs-1">{{ user.first_name|slice:":1" }}{{ user.last_name|slice:":1" }}</span>
          </div>
        {% endif %}
      </div>

      <!-- Datos del perfil -->
      <div class="col-md-8">
        <h3 class="mb-3">{{ user.first_name }} {{ user.last_name }}</h3>
        <p class="mb-1"><strong>Usuario:</strong> {{ user.username }}</p>
        <p class="mb-1"><strong>Email:</strong> {{ user.email }}</p>
        {% if user.perfil.fecha_nacimiento %}
          <p class="mb-1"><strong>Fecha de nacimiento:</strong> {{ user.perfil.fecha_nacimiento }}</p>
        {% endif %}
        {% if user.perfil.biografia %}
          <p class="mb-1"><strong>Biografía:</strong> {{ user.perfil.biografia }}</p>
        {% endif %}
        {% if user.perfil.link %}
          <p class="mb-1"><strong>Link:</strong> <a href="{{ user.perfil.link }}" target="_blank">{{ user.perfil.link }}</a></p>
        {% endif %}

        <div class="mt-4">
          <a href="{% url 'editar_perfil' %}" class="btn btn-outline-primary me-2">Editar perfil</a>
          <a href="{% url 'cambiar_password' %}" class="btn btn-outline-warning">Cambiar contraseña</a>
        </div>
      </div>

    </div>
  </div>
</div>
{% endblock %}